<div class="content mt-1 pt-1 pl-0">
   <div class="container-fluid">
      <div class="row m-0 px-0 py-1 justify-content-start sombra cabecera border">
         <div class="col-sm-12 p-0.">
            <div class="row p-0">
               <div class="input-group input-group-sm col-sm-3 mb-1 ml-0">
                  <div class="input-group-prepend">
                     <span class="input-group-text font-weight-bold" id="inputGroup-sizing-sm">Asiento</span>
                  </div>
                  <input type="text" class="form-control text-center" aria-label="Sizing example input"
                     aria-describedby="inputGroup-sizing-sm" [(ngModel)]="iAsiento.asiento" readonly>
                  <input type="text" class="form-control text-center" aria-label="Sizing example input"
                     aria-describedby="inputGroup-sizing-sm" [(ngModel)]="iAsiento.comprobante" readonly>
               </div>
               <div class="input-group input-group-sm col-sm-2 mb-1 mr-0 ">
                  <div class="input-group-prepend">
                     <span class="input-group-text font-weight-bold" id="inputGroup-sizing-sm">Fecha</span>
                  </div>
                  <input type="text" class="form-control text-center" aria-label="Sizing example input"
                     aria-describedby="inputGroup-sizing-sm" [(ngModel)]="iAsiento.fecha" readonly>
               </div>
               <div class="input-group input-group-sm col-sm-2 mb-1 ml-0">
                  <div class="input-group-prepend">
                     <span class="input-group-text font-weight-bold" id="inputGroup-sizing-sm">Doc</span>
                  </div>
                  <input type="text" class="form-control" aria-label="Sizing example input"
                     aria-describedby="inputGroup-sizing-sm" [(ngModel)]="iAsiento.documento" readonly>
               </div>
               <div class="input-group input-group-sm col-sm-5 mb-1 ml-0">
                  <div class="input-group-prepend">
                     <span class="input-group-text font-weight-bold" id="inputGroup-sizing-sm">Beneficiario</span>
                  </div>
                  <input type="text" class="form-control" aria-label="Sizing example input"
                     aria-describedby="inputGroup-sizing-sm" [(ngModel)]="iAsiento.benefi" readonly>
               </div>
            </div>
         </div>
      </div>
   </div>
</div>

<div class="content">
   <div class="container-fluid">
      <div class="row">
         <div class="col-sm-12 mt-0">
            <div class="card card-body sombra detalle pt-0">
               <form [formGroup]="formTransaci" class="pt-1">
                  <h5 class="font-weight-bold text-center cabecera border mt-0 py-1">Registro de Anticipo(s)</h5>
                  <div class="row">

                     <div class="form-group col-md-2 mb-1">
                        <div class="input-group input-group-sm">
                           <div class="input-group-prepend">
                              <label class="input-group-text" for="orden">Orden</label>
                           </div>
                           <input type="number" class="form-control text-center" formControlName="orden"
                              aria-label="Small" aria-describedby="inputGroup-sizing-sm">
                        </div>
                     </div>

                     <div class="form-group col-md-8 mb-1">
                        <div class="input-group input-group-sm">
                           <div class="input-group-prepend">
                              <label class="input-group-text" for="fecha">Cuenta</label>
                           </div>
                           <input type="text" class="form-control form-control-sm col-3" formControlName="idcuenta"
                              list="cuentasList" (input)="onCuentaSelected($event); cuentasxTiptran($event)" [ngClass]="{'is-invalid': f['idcuenta'].invalid && f['idcuenta'].touched,
                           'is-valid': f['idcuenta'].valid, '': f['idcuenta'].untouched}" [type]="'text'">
                           <datalist role="listbox" id="cuentasList">
                              <option *ngFor="let cuenta of _cuentas" value={{cuenta.codcue}}>
                                 {{ cuenta.nomcue}}</option>
                           </datalist>
                           <input type="text" class="form-control" formControlName="nomcue" aria-label="Small"
                              aria-describedby="inputGroup-sizing-sm" readonly>
                        </div>
                     </div>

                     <div class="form-group col-md-2 mb-1">
                        <div class="input-group mb-1 input-group-sm">
                           <div class="input-group-prepend">
                              <label class="input-group-text">Debe</label>
                           </div>
                           <input type="text" class="form-control text-right" formControlName="valor" aria-label="Small"
                              aria-describedby="inputGroup-sizing-sm" readonly>
                        </div>
                     </div>

                     <div class="form-group col-md-4 mb-1">
                        <div class="input-group input-group-sm">
                           <div class="input-group-prepend">
                              <label class="input-group-text" for="iddocumento">Documento</label>
                           </div>
                           <select type="text" class="custom-select" formControlName="iddocumento">
                              <option [ngValue]="documento" *ngFor="let documento of _documentos"
                                 [ngValue]="documento.iddocumento"> {{ documento.nomdoc }}
                              </option>
                           </select>
                           <input type="text" class="form-control text-center col-sm-4" formControlName="numdoc"
                              [ngClass]="{'is-invalid': f['numdoc'].invalid && f['numdoc'].touched,
                                       'is-valid': f['numdoc'].valid, '': f['numdoc'].untouched}">
                        </div>
                     </div>

                     <div class="form-group col-md-8 mb-2">
                        <div class="input-group input-group-sm">
                           <div class="input-group-prepend">
                              <label class="input-group-text">Concepto</label>
                           </div>
                           <textarea class="form-control" formControlName="descri" rows="1"></textarea>
                        </div>
                     </div>
                  </div>

                  <div class="text-center">
                     <button type="submit" class="btn btn-success btn-sm mx-1" [disabled]="!formTransaci.valid"
                        (click)="onSubmit()">
                        <i class="fa fa-check-circle"></i> Aceptar</button>
                     <button type="button" class="btn btn-outline-success btn-sm mx-1" (click)="regresar()"><i
                           class="fa fa-times-circle"></i> Cancelar
                     </button>
                     <button type="button" class="btn btn-success btn-sm mx-1 small" (click)="aniadir()"><i
                           class="bi-plus-circle"></i> Beneficiarios
                     </button>
                  </div>
               </form>
               <!-- <div class="row mt-2">
                  <table class="table table-hover table-bordered table-sm" [formGroup]="formBenextran">
                     <thead class="text-center cabecera">
                        <tr>
                           <th class="py-0"></th>
                           <th class="py-0">Beneficiario</th>
                           <th class="py-0">Documento</th>
                           <th class="py-0"># Doc</th>
                           <th class="py-0">Anticipo</th>
                           <th class="py-0">Liquidado</th>
                           <th class="py-0">Saldo</th>
                        </tr>
                     </thead>
                     <tbody class="detalle">
                        <tr *ngFor="let item of formArrayControls; let i = index" [formGroup]="item">
                           <td>{{ uniqueIdCounter }}</td>

                           <td class="col-sm-2">
                              <select type="text" class="custom-select custom-select-sm" formControlName="iddocumento">
                                 <option [ngValue]="documento" *ngFor="let documento of _documentos"
                                    [ngValue]="documento.iddocumento"> {{ documento.nomdoc }}
                                 </option>
                              </select>
                           </td>
                           <td>
                              <input type="text" class="form-control form-control-sm text-center"
                                 formControlName="numdoc"
                                 [ngClass]="{'is-valid': f1(uniqueIdCounter) && f1(uniqueIdCounter)?.get('numdoc')!.valid && (f1(uniqueIdCounter)?.get('numdoc')!.dirty || f1(uniqueIdCounter)?.get('numdoc')!.touched),
                                 'is-invalid': f1(uniqueIdCounter) && f1(uniqueIdCounter)?.get('numdoc')!.invalid && (f1(uniqueIdCounter)?.get('numdoc')!.dirty || f1(uniqueIdCounter)?.get('numdoc')!.touched)}">

                           </td>
                           <td>
                              <input type="text" class="form-control form-control-sm text-right" formControlName="valor"
                                 (change)="changeValor()">
                           </td>
                           <td>
                              <input type="text" class="form-control form-control-sm text-right"
                                 formControlName="totpagcob" readonly>
                           </td>
                           <td>
                              <input type="text" class="form-control form-control-sm text-right" formControlName="saldo"
                                 readonly>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div> -->
            </div>
         </div>
      </div>
   </div>
</div>

<!-- <div class="container" style="margin-top: 50px;">
   <form [formGroup]="formBene" (ngSubmit)="onSubmit()">
      <table class="table">
         <thead class="cabecera">
            <tr>
               <th scope="col">#</th>
               <th class="py-0">Beneficiario</th>
               <th scope="col">Documento</th>
               <th scope="col"># Doc</th>
               <th scope="col">Anticipo</th>
               <th scope="col">Liquidado</th>
               <th scope="col">Saldo</th>
            </tr>
         </thead>
         <tbody formArrayName="campos">
            <tr *ngFor="let grupo of getCampos().controls; let i = index" [formGroupName]="i">
               <th scope="row">{{i + 1}}</th>
               <td class="col-sm-4">
                  <input type="text" class="form-control form-control-sm" formControlName="idbene"
                     list="benList" (input)="onBeneSelected($event, i); benefixNombre($event)" [ngClass]="{'is-valid': grupo.get('idbene')?.valid && grupo.get('idbene')?.touched, 'is-invalid': !grupo.get('idbene')?.valid && grupo.get('idbene')?.touched}">
                  <datalist role="listbox" id="benList">
                     <option *ngFor="let beneficiario of _beneficiarios" value={{beneficiario.nomben}}>
                     </option>
                  </datalist>
               </td>
               <td>
                  <select type="text" class="custom-select custom-select-sm" formControlName="iddocumento">
                     <option [ngValue]="documento" *ngFor="let documento of _documentos"
                        [ngValue]="documento.iddocumento"> {{ documento.nomdoc }}
                     </option>
                  </select>
               </td>
               <td>
                  <input type="text" class="form-control" formControlName="numdoc"
                     [ngClass]="{'is-valid': grupo.get('numdoc')?.valid && grupo.get('numdoc')?.touched, 'is-invalid': !grupo.get('numdoc')?.valid && grupo.get('numdoc')?.touched}">
               </td>
               <td>
                  <input type="text" class="form-control" formControlName="valor"
                     [ngClass]="{'is-valid': grupo.get('valor')?.valid && grupo.get('valor')?.touched, 'is-invalid': !grupo.get('valor')?.valid && grupo.get('valor')?.touched}">
               </td>
               <td>
                  <input type="text" class="form-control" formControlName="totpagcob" readonly>
               </td>
               <td>
                  <input type="text" class="form-control" formControlName="saldo" readonly>
               </td>
            </tr>
         </tbody>
      </table>
   </form>
</div> -->