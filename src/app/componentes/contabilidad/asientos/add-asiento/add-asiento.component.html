<div class="content">
   <div class="container-fluid">
      <div class="row justify-content-center">
         <div class="col-sm-8 mt-5">
            <h4 class="font-weight-bold text-center cabecera sombra border py-1">Nuevo Asiento</h4>
            <div class="card card-body sombra fondo detalle">
               <form [formGroup]="formAsiento">
                  <div class="row">

                     <div class="form-group col-md-4">
                        <div class="input-group mb-1 input-group-sm">
                           <div class="input-group-prepend">
                              <label class="input-group-text" for="fecha">Fecha</label>
                           </div>
                           <input type="date" class="form-control text-center" formControlName="fecha" id="fecha"
                              aria-label="Small" aria-describedby="inputGroup-sizing-sm">
                        </div>
                     </div>

                     <div class="form-group col-md-3">
                        <div class="input-group mb-1 input-group-sm">
                           <div class="input-group-prepend">
                              <label class="input-group-text" for="tipasi">Tipo</label>
                           </div>
                           <select class="custom-select" id="tipasi" formControlName="tipasi">
                              <option value=1>Apertura</option>
                              <option value=2 [selected]=true>Financiero</option>
                              <option value=3>Ajuste</option>
                              <option value=4>Orden</option>
                              <option value=5>Cierre</option>
                           </select>
                        </div>
                     </div>

                     <div class="form-group col-md-6">
                        <div class="input-group input-group-sm">
                           <div class="input-group-prepend">
                              <label class="input-group-text" for="tipcom">Comprobante</label>
                           </div>
                           <select class="custom-select" formControlName="tipcom" (change)="changeTipcom()" [ngClass]="{'is-invalid': f['tipcom'].invalid && f['tipcom'].touched,
                           'is-valid': f['tipcom'].valid, '': f['tipcom'].untouched}">
                              <option value="1">Ingreso</option>
                              <option value="2">Egreso</option>
                              <option value="3">Diario C</option>
                              <option value="4">Diario I</option>
                              <option value="5">Diario E</option>
                           </select>
                           <input type="text" class="form-control text-center" formControlName="compro"
                              aria-label="Small" aria-describedby="inputGroup-sizing-sm" [ngClass]="{'is-invalid': f['compro'].invalid && f['compro'].touched,
                           'is-valid': f['compro'].valid, '': f['compro'].untouched}">
                        </div>
                     </div>

                     <div class="form-group col-md-6">
                        <div class="input-group input-group-sm">
                           <div class="input-group-prepend">
                              <label class="input-group-text" for="iddocumento">Documento</label>
                           </div>
                           <select type="text" class="custom-select" formControlName="iddocumento">
                              <option [ngValue]="documento" *ngFor="let documento of _documentos"
                                 [ngValue]="documento.iddocumento">
                                 {{ documento.nomdoc }}
                              </option>
                           </select>
                           <input type="text" class="form-control text-center col-sm-4" formControlName="numdoc"
                              [ngClass]="{'is-invalid': f['numdoc'].invalid && f['numdoc'].touched,
                                       'is-valid': f['numdoc'].valid, '': f['numdoc'].untouched}">
                        </div>
                     </div>

                     <div class="form-group col-md-12 mt-1">
                        <div class="input-group input-group-sm mb-1 ">
                           <div class="input-group-prepend">
                              <label class="input-group-text" for="fecha">Beneficiario</label>
                           </div>
                           <input type="text" class="form-control form-control-sm"
                              formControlName="idbene" list="benList" (keyup)="benefixNombre($event)" [ngClass]="{'is-invalid': f['idbene'].invalid && f['idbene'].touched,
                           'is-valid': f['idbene'].valid, '': f['idbene'].untouched}">
                           <datalist role="listbox" id="benList">
                              <option *ngFor="let beneficiario of _beneficiarios" value={{beneficiario.nomben}}>
                                 {{ beneficiario.idgrupo.nomgru}}</option>
                           </datalist>
                        </div>
                     </div>

                     <div class="form-group col-md-12">
                        <div class="input-group mb-0 input-group-sm">
                           <div class="input-group-prepend">
                              <label class="input-group-text">Concepto</label>
                           </div>
                           <textarea class="form-control" formControlName="glosa" rows="3"></textarea>
                        </div>
                     </div>
                  </div>

                  <div class="text-center">
                     <button type="submit" class="btn btn-success btn-sm mx-1" (click)="saveAsiento()"
                        [disabled]="!formAsiento.valid">
                        <i class="fa fa-check-circle"></i> Aceptar</button>
                     <button type="button" class="btn btn-outline-success btn-sm mb-0" (click)="regresar()"><i
                           class="fa fa-times-circle"></i> Cancelar
                     </button>
                  </div>
               </form>
            </div>
         </div>
      </div>
   </div>
</div>